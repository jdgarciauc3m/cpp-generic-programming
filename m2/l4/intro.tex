\begin{frame}[t,fragile]{Default arguments in templates}
\begin{itemize}
  \item A class template may have default arguments for its template arguments.

\begin{columns}[T]

\column{.45\textwidth}
\begin{block}{Default storage strategy}
\begin{lstlisting}[escapechar=@]
template <std::semiregular T, 
          typename S @\color{red}= local\_storage<T>@>
class fixed_vector {
  //...
  // T and S used in definitions
  //...
};
\end{lstlisting}
\end{block}

\pause
\column{.55\textwidth}
\begin{block}{Using the class}
\begin{lstlisting}
void f() {
  // local_storage<std::string>
  fixed_vector<std::string> names;

  fixed_vector<double> marks; // local_storage<double>
  //...
}
\end{lstlisting}
\end{block}

\end{columns}

\end{itemize}
\end{frame}

\begin{frame}[t,fragile]{Multiple default arguments}
\begin{itemize}
  \item A class may have all its parameters with default arguments.

\begin{columns}[T]

\column{.45\textwidth}
\begin{block}{Default storage strategy}
\begin{lstlisting}[escapechar=@]
template <std::semiregular T @\color{red}= double@, 
          typename S @\color{red}= local\_storage<T>@>
class fixed_vector {
  //...
  // T and S used in definitions
  //...
};
\end{lstlisting}
\end{block}

\pause
\column{.55\textwidth}
\begin{block}{Using the class}
\begin{lstlisting}
void f() {
  fixed_vector<long, allocated_storage> v1;

  fixed_vector<int> v2; // local_storage<int>

  fixed_vector<> v3; // double, local_storage<double>

  fixed_vector v4;   // double, local_storage<double>
  //...
}
\end{lstlisting}
\end{block}

\end{columns}

\end{itemize}
\end{frame}
