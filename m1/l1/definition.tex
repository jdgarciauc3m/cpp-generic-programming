\subsection{Defining a generic function}

\begin{frame}[t,fragile]{Generalizing a function}
\begin{itemize}
  \item A \textemph{function} is defined with 
        \textmark{parameters} and \textmark{return values} of specific types.
\end{itemize}

\begin{columns}[T]

\column{.5\textwidth}
\begin{block}{Printing the square}
\begin{lstlisting}
void print_square(int x) {
  std::cout << std::format("{}^2 = {}\n", x, x*x);
}
\end{lstlisting}
\end{block}

\column{.5\textwidth}
\begin{block}{Printing the square}
\begin{lstlisting}
void print_square(long x) {
  std::cout << std::format("{}^2 = {}\n", x, x*x);
}

\end{lstlisting}
\end{block}

\end{columns}

\begin{itemize}
  \mode<presentation>{\vfill\pause}
  \item But wait...
    \begin{itemize}
      \item What about \cppkey{short} or \cppkey{long long}.
      \item What about \cppkey{unsigned} versions.
    \end{itemize}

  \mode<presentation>{\vfill\pause}
  \item \textmark{Idea}: Avoid many overloads.
    \begin{itemize}
      \item Define a generic function for any integer type.
    \end{itemize}
\end{itemize}

\end{frame}

\begin{frame}[t,fragile]{Generalizing a function}
\begin{itemize}
  \item We would like to generalize for \textmark{any type} that satisfies the
        \textemph{concept} of an \textgood{integral type}.
    \begin{itemize}
      \item There is such a concept in header \cppid{<concepts>}: \cppid{std::integral}.
    \end{itemize}
\end{itemize}

\mode<presentation>{\vfill\pause}
\begin{block}{Generalized square function}
\begin{lstlisting}
void print_square(std::integral auto x) {
  std::cout << std::format("{}^2 = {}\n", x, x*x);
}
\end{lstlisting}
\end{block}

\mode<presentation>{\vfill\pause}
\begin{itemize}
  \item Parameter type is specified with \textemph{concept} \cppid{std::integral}
        followed by keyword \cppkey{auto}.


\end{itemize}

\end{frame}

